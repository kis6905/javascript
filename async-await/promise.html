<html>
<head>
  <title>Promise</title>
  <script>
    (function() {

      const asyncTask1 = () => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve({ message: 'aysncTask1' })
          }, 1000)
        })
      }

      const asyncTask2 = (data) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log('param is %o', data);
            resolve({ message: 'aysncTask2' })
          }, 1000)
        })
      }

      // ES6 Promise
      asyncTask1()
        .then((data) => {
          console.log('Done asyncTask1!', data)
          return asyncTask2(data)
        })
        .then((data) => {
          console.log('Done asyncTask2!', data)
        })
        .catch((e) => {
          console.error(e);
        })
    })()
  </script>
</head>
<body>

</body>
</html>